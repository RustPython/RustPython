<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>RustPython Demo</title>
        <style type="text/css" media="screen">
            textarea {
                font-family: monospace;
                resize: vertical;
            }

            #code {
                height: 35vh;
                width: 95vw;
            }

            #console {
                height: 35vh;
                width: 95vw;
            }

            #run-btn {
                width: 6em;
                height: 2em;
                font-size: 24px;
            }

            #error {
                color: tomato;
                margin-top: 10px;
                font-family: monospace;
            }
        </style>
    </head>
    <body>
        <h1>RustPython Demo</h1>
        <p>
            RustPython is a Python interpreter writter in Rust. This demo is
            compiled from Rust to WebAssembly so it runs in the browser
        </p>
        <p>Please input your python code below and click <kbd>Run</kbd>:</p>
        <p>
            Alternatively, open up your browser's devtools and play with
            <code>rp.eval_py('print("a")')</code>
        </p>
        <textarea id="code">
n1 = 0
n2 = 1
count = 0
until = 10

print("These are the first " + str(until) + " number in a Fibonacci sequence:")

while count < until:
    print(n1)
    n1, n2 = n2, n1 + n2
    count += 1

        </textarea>
        <button id="run-btn">Run &#9655;</button>
        <div id="error"></div>
        <script src="./bootstrap.js"></script>
        <h3>Standard Output</h3>
        <textarea id="console">Loading...</textarea>

        <p>Here's some info regarding the <code>rp.eval_py()</code> function</p>
        <ul>
            <li>
                You can return variables from python and get them returned to
                JS, with the only requirement being that they're serializable
                with <code>json.dumps</code>.
            </li>
            <li>
                You can pass an object as the second argument to the function,
                and that will be available in python as the variable
                <code>js_vars</code>. Again, only values that can be serialized
                with <code>JSON.stringify()</code> will go through.
            </li>
        </ul>

        <!-- "Fork me on GitHub" banner -->
        <a href="https://github.com/RustPython/RustPython"
            ><img
                style="position: absolute; top: 0; right: 0; border: 0;"
                src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
                alt="Fork me on GitHub"
        /></a>
    </body>
</html>
