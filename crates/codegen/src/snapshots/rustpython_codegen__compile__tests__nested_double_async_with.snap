---
source: crates/codegen/src/compile.rs
expression: "compile_exec(\"\\\nfor stop_exc in (StopIteration('spam'), StopAsyncIteration('ham')):\n    with self.subTest(type=type(stop_exc)):\n        try:\n            async with egg():\n                raise stop_exc\n        except Exception as ex:\n            self.assertIs(ex, stop_exc)\n        else:\n            self.fail(f'{stop_exc} was suppressed')\n\")"
---
  1           0 SETUP_LOOP
              1 LOAD_NAME_ANY        (0, StopIteration)
              2 LOAD_CONST           ("spam")
              3 CALL_FUNCTION_POSITIONAL(1)
              4 LOAD_NAME_ANY        (1, StopAsyncIteration)
              5 LOAD_CONST           ("ham")
              6 CALL_FUNCTION_POSITIONAL(1)
              7 BUILD_TUPLE          (2)
              8 GET_ITER
        >>    9 FOR_ITER             (71)
             10 STORE_LOCAL          (2, stop_exc)

  2          11 LOAD_NAME_ANY        (3, self)
             12 LOAD_METHOD          (4, subTest)
             13 LOAD_NAME_ANY        (5, type)
             14 LOAD_NAME_ANY        (2, stop_exc)
             15 CALL_FUNCTION_POSITIONAL(1)
             16 LOAD_CONST           (("type"))
             17 CALL_METHOD_KEYWORD  (1)
             18 SETUP_WITH           (68)
             19 POP_TOP

  3          20 SETUP_EXCEPT         (42)

  4          21 LOAD_NAME_ANY        (6, egg)
             22 CALL_FUNCTION_POSITIONAL(0)
             23 BEFORE_ASYNC_WITH
             24 GET_AWAITABLE
             25 LOAD_CONST           (None)
             26 YIELD_FROM
             27 RESUME               (3)
             28 SETUP_ASYNC_WITH     (34)
             29 POP_TOP

  5          30 LOAD_NAME_ANY        (2, stop_exc)
             31 RAISE                (Raise)

  4          32 POP_BLOCK
             33 ENTER_FINALLY
        >>   34 WITH_CLEANUP_START
             35 GET_AWAITABLE
             36 LOAD_CONST           (None)
             37 YIELD_FROM
             38 RESUME               (3)
             39 WITH_CLEANUP_FINISH
             40 POP_BLOCK
             41 JUMP                 (58)
        >>   42 COPY                 (1)

  6          43 LOAD_NAME_ANY        (7, Exception)
             44 JUMP_IF_NOT_EXC_MATCH(57)
             45 STORE_LOCAL          (8, ex)

  7          46 LOAD_NAME_ANY        (3, self)
             47 LOAD_METHOD          (9, assertIs)
             48 LOAD_NAME_ANY        (8, ex)
             49 LOAD_NAME_ANY        (2, stop_exc)
             50 CALL_METHOD_POSITIONAL(2)
             51 POP_TOP
             52 POP_EXCEPTION
             53 LOAD_CONST           (None)
             54 STORE_LOCAL          (8, ex)
             55 DELETE_LOCAL         (8, ex)
             56 JUMP                 (66)
        >>   57 RAISE                (Reraise)

  9     >>   58 LOAD_NAME_ANY        (3, self)
             59 LOAD_METHOD          (10, fail)
             60 LOAD_NAME_ANY        (2, stop_exc)
             61 FORMAT_SIMPLE
             62 LOAD_CONST           (" was suppressed")
             63 BUILD_STRING         (2)
             64 CALL_METHOD_POSITIONAL(1)
             65 POP_TOP

  2     >>   66 POP_BLOCK
             67 ENTER_FINALLY
        >>   68 WITH_CLEANUP_START
             69 WITH_CLEANUP_FINISH
             70 JUMP                 (9)
        >>   71 POP_BLOCK
             72 RETURN_CONST         (None)
